<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog</title>
    <%- include("./partials/head") %>
</head>

<body class="bg-secondary">
    <%- include("./partials/nav") %>
        <div class="container mt-4 ">
            <div class="card mb-3 " style="max-width: 1540px;
            position: relative;
    padding-bottom: 60px;">
                <div class="row g-0">
                  <div class="col-md-4">
                    <img src="<%= blog.CoverImageUrl %>" class="img-fluid rounded-start">
                  </div>
                  <div class="col-md-8">
                    <div class="card-body">
                      <h5 class="card-title" > <%= blog.Title %></h5>
                      <p class="card-text"> <%= blog.Body %></p>
                      
                    </div>
                    <div style="
                        position: absolute;
                        bottom: 10px; /* Distance from bottom */
                        right: 10px; /* Distance from right */
                        display: flex;
                        align-items: center; /* Ensures image and text are aligned */
                        gap: 8px; /* Adds spacing between image and text */
                    ">
                        <img src="<%= blog.CreatedBy.ProfileImage %>" width="50px"> <%= blog.CreatedBy.Fullname %>
                    </div>
                  </div>
                </div>
              </div>
        </div>
        <div class="container mt-3">
          <form action="/blog/comment/<%= blog._id %>" method="post">
            <div class="input-group mb-3">
              <input type="text" class="form-control" placeholder="Type Comment"  name="content">
              <button class="btn btn-info" type="submit" id="button-addon2">Comment</button>
            </div>
        </form>
        </div>
        <div class="container">
          
          <% if (locals.comments) { %>
            <h3 style="color: white;">Comments(<%= comments.length %>)</h3>
           <% comments.forEach(cmnt => { %>
            <div class="card mb-3">
              <div class="card-body d-flex align-items-start">
                  <img src="<%= cmnt.CreatedBy.ProfileImage %>" width="40px" alt="Profile Image" class="rounded-circle me-3">
                  <div>
                      <h5 class="card-title mb-1"><%= cmnt.CreatedBy.Fullname %></h5>
                      <p class="card-text mb-0"><%= cmnt.Content %></p>
                  </div>
              </div>
          </div>
  
           <% }) %>
          <% } %>
        </div>
        <%- include("./partials/script") %>
</body>

</html>